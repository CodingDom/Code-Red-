<div class="container">
  <div class="row justify-content-center modal-dialog-centered">
    <div class="col-md-8">
    <!-- <img src="/assets/images/logo_transparent.png" width="45%"> -->
    <form ngNativeValidate #userForm="ngForm" (ngSubmit)="authenticate(userForm)">
      <div class="form-row">
        <div class="form-group col-12">
          <p *ngIf='errorMessage && errorMessage != ""' id="error">{{ errorMessage }}</p>
          <label for="inputEmail">Email</label>
          <span class="float-right return btn-link" routerLink="/" routerLinkActive="active"><span class="icon ion-md-home"></span> Return Home</span>
          <div class="input-group">
          <span class="input-group-addon"><span class="icon ion-md-person"></span></span>
          <input type="email" class="form-control" id="inputEmail" name="email" placeholder="Email" required ngModel>
          </div>
        </div>
        <div class="form-group col-12">
          <label for="inputPassword">Password</label>
          <div class="input-group">
              <span class="input-group-addon"><span class="icon ion-md-lock"></span></span>
              <input [type]='showPassword ? "text" : "password"' class="form-control" id="inputPassword" name="password" placeholder="Password" required ngModel>
              <span (click)='togglePassword()' class="input-group-addon"><span [class]='showPassword ? "icon ion-md-eye" : "icon ion-md-eye-off"'></span></span>
          </div>
        </div>
        <!-- <ng-container *ngIf="mode != 'login'"> -->
        <div class="form-group col-12" [@slideInOut]="mode">
            <label for="inputPasswordConfirm">Confirm Password</label>
            <div class="input-group">
                <span class="input-group-addon"><span class="icon ion-md-lock"></span></span>
            <input type="password" class="form-control" id="inputPasswordConfirm" name="passwordConfirm" placeholder="Confirm Password" [required]='mode == "signup" ? true : null' ngModel>
            </div>
        </div>
        <!-- </ng-container> -->
      </div>
      <div class="form-group">
          <button id="switch" (click)="modeSwitch()" class="btn btn-link" type="button">{{ mode == 'login' && 'Click here to Sign Up!' || 'Already have an account?' }}</button>
          <ng-container *ngIf='loading; else notLoading'>
            <button type="submit" class="btn btn-primary" disabled><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Logging In...</button>
          </ng-container>
          <ng-template #notLoading>
            <button type="submit" class="btn btn-primary">{{ mode == 'login' && 'Sign In' || 'Sign Up' }}</button>
          </ng-template>
      </div>
    </form>
  </div>
  </div>
</div>